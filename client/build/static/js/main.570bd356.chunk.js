(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{222:function(e,t,a){e.exports=a(397)},393:function(e,t){},397:function(e,t,a){"use strict";a.r(t);var n,o=a(0),l=a.n(o),r=a(45),c=a.n(r),s=(a(227),a(55)),u=a(29),i=a(35),m=a(411),h=a(409),p=a(406),g=a(405),d=a(410),f=a(39),E=a(56),b=a.n(E),y=function(e){Object(o.useEffect)((function(){localStorage.getItem("uname")&&e.history.push("/chat")}),[]);var t=Object(o.useState)({username:"",email:"",password:""}),a=Object(i.a)(t,2),n=a[0],r=a[1],c=Object(o.useState)({status:!1,msg:"All fields are required.."}),E=Object(i.a)(c,2),y=E[0],v=E[1],j=function(e){r(Object(u.a)(Object(u.a)({},n),{},Object(s.a)({},e.target.name,e.target.value)))};return l.a.createElement(m.a,{style:{marginTop:"30px"},columns:3,relaxed:"very",stackable:!0},l.a.createElement(m.a.Column,null),l.a.createElement(m.a.Column,null,y.status?l.a.createElement(h.a,{attached:!0,negative:!0},l.a.createElement(h.a.Header,null,"We're sorry."),l.a.createElement("p",null,y.msg)):l.a.createElement(h.a,{attached:!0,header:"Welcome to our site!",content:"Fill out the form below to sign-in for entering the chat room"}),l.a.createElement(p.a,{className:"attached fluid segment",autoComplete:"off",onSubmit:function(t){t.preventDefault(),""===n.username||""===n.email||""===n.password?v(Object(u.a)(Object(u.a)({},y),{},{status:!0})):b.a.post("https://chattingappbro.herokuapp.com/insert",n,{headers:{"Content-Type":"application/json"}}).then((function(t){!1===t.data.status?v({status:!0,msg:t.data.msg}):!0===t.data.status&&e.history.push("/")})).catch((function(e){return console.log(e)}))}},l.a.createElement(p.a.Input,{icon:"user",iconPosition:"left",fluid:!0,type:"text",label:"Username",placeholder:"Username",name:"username",value:n.username,onChange:function(e){return j(e)}}),l.a.createElement(p.a.Input,{icon:"user",iconPosition:"left",fluid:!0,type:"text",label:"email",placeholder:"Example@gmail.com",name:"email",value:n.email,onChange:function(e){return j(e)}}),l.a.createElement(p.a.Input,{icon:"key",iconPosition:"left",fluid:!0,type:"password",label:"Password",placeholder:"Passsword",name:"password",value:n.password,onChange:function(e){return j(e)}}),l.a.createElement(p.a.Field,null,l.a.createElement(g.a,{label:"I agree to the Terms and Conditions"})),l.a.createElement(d.a,{icon:!0,labelPosition:"right",type:"submit"},"SignUp",l.a.createElement(f.a,{name:"signup"})),l.a.createElement(d.a,{icon:!0,labelPosition:"right",type:"button",onClick:function(){e.history.push("/")}},"Login",l.a.createElement(f.a,{name:"sign-in"})))),l.a.createElement(m.a.Column,null))},v=a(407),j=function(e){Object(o.useEffect)((function(){localStorage.getItem("uname")&&e.history.push("/chat")}),[]);var t=Object(o.useState)({username:"",password:""}),a=Object(i.a)(t,2),n=a[0],r=a[1],c=Object(o.useState)({status:!1,msg:"All fields are required.."}),E=Object(i.a)(c,2),y=E[0],j=E[1],w=function(e){r(Object(u.a)(Object(u.a)({},n),{},Object(s.a)({},e.target.name,e.target.value)))};return l.a.createElement(m.a,{style:{marginTop:"50px"},columns:3,relaxed:"very",stackable:!0},l.a.createElement(m.a.Column,null),l.a.createElement(m.a.Column,null,y.status?l.a.createElement(h.a,{attached:!0,negative:!0},l.a.createElement(h.a.Header,null,"We're sorry."),l.a.createElement("p",null,y.msg)):l.a.createElement(h.a,{attached:!0,header:"Welcome to our site!",content:"Fill out the form below to sign-in for entering the chat room"}),l.a.createElement(p.a,{className:"attached fluid segment",autoComplete:"off",onSubmit:function(t){t.preventDefault(),""===n.username||""===n.password?j(Object(u.a)(Object(u.a)({},y),{},{status:!0})):b.a.post("https://chattingappbro.herokuapp.com/auth",n,{headers:{"Content-Type":"application/json"}}).then((function(t){!1===t.data.status?j({status:!0,msg:t.data.msg}):!0===t.data.status&&(localStorage.setItem("uname",t.data.uname),localStorage.setItem("key",t.data.key),e.history.push("/chat"))})).catch((function(e){return console.log(e)}))}},l.a.createElement(p.a.Input,{icon:"user",iconPosition:"left",fluid:!0,type:"text",label:"Username",placeholder:"Username",name:"username",value:n.username,onChange:function(e){return w(e)}}),l.a.createElement(p.a.Input,{icon:"key",iconPosition:"left",fluid:!0,type:"password",label:"Password",placeholder:"Passsword",name:"password",value:n.password,onChange:function(e){return w(e)}}),l.a.createElement(p.a.Field,null,l.a.createElement(g.a,{label:"I agree to the Terms and Conditions"})),l.a.createElement(d.a,{icon:!0,labelPosition:"right",type:"submit"},"Join",l.a.createElement(f.a,{name:"sign-in"})),l.a.createElement(d.a,{icon:!0,labelPosition:"right",type:"button",onClick:function(){e.history.push("/signup")}},"SignUp",l.a.createElement(f.a,{name:"signup"}))),l.a.createElement(v.a,null,l.a.createElement(v.a.Item,{icon:"instagram",content:l.a.createElement("a",{href:"https://www.instagram.com/thedishantnavadiya"},"thedishantnavadiya")}))),l.a.createElement(m.a.Column,null))},w=a(64),C=a(408),O=a(412),S=function(e){var t=e.username,a=e.msg;return Object(o.useEffect)((function(){document.querySelector(".dishant").scrollTop=document.querySelector(".dishant").scrollHeight}),[]),l.a.createElement(h.a,{header:t,content:a})},k=a(207),I=a.n(k),P=function(e){var t=Object(o.useState)(""),a=Object(i.a)(t,2),r=a[0],c=a[1],s=Object(o.useState)([]),u=Object(i.a)(s,2),h=u[0],g=u[1];Object(o.useEffect)((function(){if(localStorage.getItem("uname")||localStorage.getItem("key")){var t={uname:localStorage.getItem("uname"),key:localStorage.getItem("key")};b.a.post("https://chattingappbro.herokuapp.com/check",t,{headers:{"Content-Type":"application/json"}}).then((function(t){!1===t.data.status&&(localStorage.removeItem("uname"),localStorage.removeItem("key"),e.history.push("/"))})).catch((function(e){return console.log(e)}))}else e.history.push("/");(n=I()("https://chattingappbro.herokuapp.com/",{query:"user=".concat(localStorage.getItem("uname"))})).on("show-massage",(function(e){g(e.allMsg)}))}),[]),Object(o.useEffect)((function(){n.on("join-others",(function(e){g((function(t){return[].concat(Object(w.a)(t),[e.allMsg])}))})),n.on("dis-others",(function(e){g((function(t){return[].concat(Object(w.a)(t),[e.allMsg])}))})),n.on("show-others",(function(e){g((function(t){return[].concat(Object(w.a)(t),[e.allMsg])}))}))}),[]);return l.a.createElement("div",null,l.a.createElement(m.a,{style:{marginTop:"20px"}},l.a.createElement(m.a.Column,{width:1}),l.a.createElement(m.a.Column,{width:14},l.a.createElement(C.a,{style:{width:"auto"}},l.a.createElement(C.a.Content,{icon:"users"},l.a.createElement(C.a.Header,null,l.a.createElement(O.a,{as:"h3"},l.a.createElement(f.a,{name:"users"}),l.a.createElement(O.a.Content,null,"Chats"," ",l.a.createElement(d.a,{type:"button",onClick:function(){localStorage.removeItem("uname"),localStorage.removeItem("key"),e.history.push("/")}},"Logout"))))),l.a.createElement(C.a.Content,{className:"dishant",style:{height:"400px",overflow:"auto"}},void 0!==h?h.map((function(e,t){return l.a.createElement(S,{username:e.username,msg:e.msg})})):null),l.a.createElement(C.a.Content,{extra:!0},l.a.createElement(p.a,{className:" fluid ",autoComplete:"off",onSubmit:function(e){e.preventDefault(),n.emit("send-massage",{msg:r});var t={username:"Me",msg:r};g((function(e){return[].concat(Object(w.a)(e),[t])})),c("")}},l.a.createElement(p.a.Input,{icon:"facebook messenger",iconPosition:"left",fluid:!0,type:"text",label:"Massage",placeholder:"Type something....",name:"massage",onChange:function(e){return c(e.target.value)},value:r,action:l.a.createElement(d.a,{icon:!0,labelPosition:"right",type:"submit"},"Send",l.a.createElement(f.a,{name:"send"}))}))))),l.a.createElement(m.a.Column,{width:1})))},x=a(208),T=a(15),M=function(){return l.a.createElement(x.a,null,l.a.createElement(T.a,{path:"/",exact:!0,component:j}),l.a.createElement(T.a,{path:"/signup",component:y}),l.a.createElement(T.a,{path:"/chat",component:P}))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(l.a.createElement(l.a.StrictMode,null,l.a.createElement(M,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[222,1,2]]]);
//# sourceMappingURL=main.570bd356.chunk.js.map